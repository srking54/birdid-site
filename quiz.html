<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bird Quiz</title>

  <link rel="stylesheet" href="/style.css" />

  <!-- Load the shared script once -->
  <script src="/script.js" defer></script>

  <style>
    body { font-family: sans-serif; background-color: #955959; padding: 20px; margin: 0 auto; max-width: 600px; }
    header { text-align:center; margin-bottom:20px; }
    .btn { display:inline-block; padding:12px 24px; background:#007acc; color:#fff; text-decoration:none; border-radius:6px; font-weight:bold; box-shadow:0 2px 4px rgba(0,0,0,0.2); transition:background-color .3s; }
    .btn:hover { background:#005fa3; }

    .quiz-container { background:#57aab1; padding:20px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
    .hidden { display:none; }

    #quiz-header { margin-bottom: 15px; }
    #timer-text { font-weight:bold; font-size:1.1em; color:black; }
    #progressBar { background:#ddd; height:12px; border-radius:10px; overflow:hidden; margin-top:5px; }
    #progressFill { background:#5da7f9; height:100%; width:100%; transition: width 1s linear; }

    .question-text { font-size:1.2em; margin: 12px 0 15px; }
    .choices button { display:block; width:100%; margin:8px 0; padding:12px; font-size:1em; border:none; border-radius:8px; background:#85c09a; cursor:pointer; transition:background-color .3s; }
    .choices button:hover { background:#d1d1d1; }
    .choices button.correct { background:#a3e3aa; }
    .choices button.incorrect { background:#f7b5b5; }

    .next-button { margin-top:20px; display:none; background:#5da7f9; color:#fff; border:none; padding:10px; border-radius:8px; cursor:pointer; font-size:1em; }

    /* Image framing */
    #quiz-image {
      width: 100%;
      aspect-ratio: 4 / 3;
      object-fit: contain;
      background:#fff;
      border:1px solid #e0e0e0;
      border-radius:8px;
      padding:6px;
      box-sizing:border-box;
      margin-bottom:10px;
      display:none; /* shown dynamically when a question has an image */
    }

    /* Results & review */
    #results-summary { margin-top: 20px; }
    .final-score { font-size: 1.3em; font-weight:bold; }
    body.review-mode { background-image: none !important; background-color: #f6f7fb !important; }
    #answer-review { max-width: 900px; margin:20px auto; padding:20px; background:#fff; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.08); }
    #answer-review .review-actions { display:flex; justify-content:center; gap:12px; margin:16px 0 8px; flex-wrap:wrap; }
    #answer-review #play-again-btn, #answer-review #home-review-btn { display:inline-flex; align-items:center; justify-content:center; padding:8px 14px; border-radius:6px; font-size:.95rem; font-weight:bold; text-decoration:none; background:#4e9af1; color:#fff; border:0; cursor:pointer; }
    #answer-review #play-again-btn:hover, #answer-review #home-review-btn:hover { background:#357ddf; }

    @media (max-width:430px){ #go-home{ padding:3px 8px; font-size:.78rem; } }
  </style>
</head>


<body>

  <header class="top-bar card">
  <div class="brand">
    <a href="/images/brand/birdid-logo.png"
       class="brand-logo-link"
       target="_blank"
       rel="noopener"
       aria-label="Open full-size BirdID Lite logo">
      <img src="/images/brand/birdid-logo.png" alt="BirdID Lite logo" class="brand-logo">
    </a>
    <h1 class="brand-name">BirdID Lite Quiz</h1>
  </div>

  <!-- ONE hamburger button only -->
  <button
    class="hamburger"
    id="menu-toggle"
    aria-label="Toggle menu"
    aria-controls="menu"
    aria-expanded="false"
    onclick="(function(){
      var m = document.getElementById('menu');
      var open = m.classList.toggle('open');
      document.getElementById('menu-toggle').setAttribute('aria-expanded', open ? 'true' : 'false');
      var header = document.querySelector('header.top-bar');
      if (header) header.classList.toggle('menu-open', open);
    })();"
  >
    <!-- visible, reliable icon -->
    <svg viewBox="0 0 24 24" width="26" height="26" aria-hidden="true" focusable="false">
      <rect x="3" y="6"  width="18" height="2" rx="1"></rect>
      <rect x="3" y="11" width="18" height="2" rx="1"></rect>
      <rect x="3" y="16" width="18" height="2" rx="1"></rect>
    </svg>
  </button>

  <nav class="menu" id="menu" aria-label="Main navigation">
  <ul>
    <li><a href="/index.html">Home</a></li>
    <li><a href="/quiz.html?mode=leisure">Leisure</a></li>
    <li><a href="/resources.html">Resources</a></li>
    <li><a href="/credits.html">Credits</a></li>
    <li><a href="/privacy.html">Privacy</a></li> <!-- NEW -->
    <li><a href="/ledger.html">Donations Ledger</a><li>
  </ul>
</nav>

</header>



  <!-- QUIZ SECTION -->
  <section id="quiz-section">
    <div class="quiz-container">
      <div id="quiz-header">
        <div id="timer-text">Quiz Progress</div>
        <div id="progressBar"><div id="progressFill"></div></div>
      </div>

      <img id="quiz-image" alt="Bird image"/>

      <div id="question" class="question-text"></div>
      <div id="choices" class="choices"></div>
      <button id="next-btn" class="next-button">Next</button>

      <div id="feedback"></div>
    </div>
  </section>

  <!-- RESULTS SECTION -->
  <section id="results-section" class="hidden">
    <div id="results-summary">
      <h2>You scored</h2>
      <p class="final-score"><span id="final-score">...</span></p>
      <p id="final-message">...</p>
      <button id="view-answers">üîç View Answers</button>
      <a href="index.html" class="btn">üè† Back to Home</a>
    </div>

    <!-- under your score/results -->
      <button id="tip-pi" class="btn">Donate 0.1 Pi to Conservation</button>
      <small id="tip-status"></small>

    <div id="answer-review" class="hidden">
      <div id="review-content"></div>
      <div class="review-actions">
        <button id="play-again-btn" type="button" onclick="location.href='quiz.html?v='+Date.now()">üîÑ Play Again</button>
        <a id="home-review-btn" href="index.html">üè† Home</a>
      </div>
    </div>

    <footer style="text-align:center; margin:16px 0;">
       <a class="btn-home" href="resources.html">Sources & Credits</a>
    </footer>

  </section>

  <script>
  (function () {
    var btn = document.getElementById('menu-toggle');
    var menu = document.getElementById('menu');
    var header = document.querySelector('header.top-bar');
    if (!btn || !menu || !header) return;
    btn.addEventListener('click', function () {
      var open = menu.classList.toggle('open');
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      header.classList.toggle('menu-open', open);
    });
  })();
</script>

<footer class="site-footer">
  <div class="footer-inner">
    <nav class="footer-nav" aria-label="Footer">
      <a href="/index.html">Home</a>
      <a href="/quiz.html?mode=leisure">Leisure</a>
      <a href="/resources.html">Resources</a>
      <a href="/credits.html">Credits</a>
      <a href="/ledger.html">Donations Ledger</a>
      <a href="/privacy.html">Privacy</a>
    </nav>
    <div class="footer-copy">
      <span>¬© <span id="year"></span> BirdID Lite</span>
    </div>
  </div>
</footer>

<script>
  // set current year in footer
  (function(){ 
    var y = document.getElementById('year'); 
    if (y) y.textContent = new Date().getFullYear(); 
  })();
</script>

</body>
</html>
