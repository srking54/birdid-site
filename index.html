<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bird ID Lite Quiz</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="/images/brand/birdid-logo-512.png">
  <meta property="og:title" content="BirdID Lite">
  <meta property="og:description" content="Learn birds, support conservation.">
  <meta property="og:image" content="/images/brand/birdid-logo-1024.png">
  <link rel="icon" type="image/png" href="/images/brand/birdid-logo.png">
  <meta property="og:title" content="BirdID Lite">
  <meta property="og:description" content="Learn birds, support conservation.">
  <meta property="og:image" content="/images/brand/birdid-logo.png">
</head>

<body class="home">

<script>
  (function () {
    const btn  = document.getElementById('menu-toggle');
    const menu = document.getElementById('menu');
    if (!btn || !menu) return;

    btn.addEventListener('click', () => {
      const open = menu.classList.toggle('open');
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });
  })();
</script>

<body>
  
  <header class="top-bar card">
  <div class="brand">
    <a href="/images/brand/birdid-logo.png"
       class="brand-logo-link"
       target="_blank" rel="noopener noreferrer"
       aria-label="Open full-size BirdID Lite logo">
      <img src="/images/brand/birdid-logo.png" alt="BirdID Lite logo" class="brand-logo">
    </a>
    <h1 class="brand-name">Bird-ID Lite</h1>
  </div>

  <!-- Hamburger (phones) -->
  <button class="hamburger" id="menu-toggle" aria-label="Toggle menu" aria-controls="menu" aria-expanded="false">‚ò∞</button>

  <!-- Nav -->
  <nav class="menu" id="menu" aria-label="Main navigation">
    <ul>
      <li><a href="/index.html">Home</a></li>
      <li><a href="/quiz.html?mode=leisure">Leisure</a></li>
      <li><a href="/resources.html">Resources</a></li>
      <li><a href="/credits.html">Credits</a></li>
    </ul>
  </nav>
</header>

  <!-- Welcome -->
  <section id="welcome-section" class="welcome">
  <h1>Welcome to BirdID-Lite</h1>
  <p><p>
  Welcome to the Bird Identification, a simple Quiz‚Äîmade for Pi Network bird lovers and curious newcomers alike.
  Drawing on trusted resources like
  <a href="https://ebird.org/" target="_blank" rel="noopener noreferrer">eBird</a>
  and
  <a href="https://www.audubon.org/" target="_blank" rel="noopener noreferrer">Audubon</a>,
  this quiz invites you to explore the amazing diversity of birds around us.
</p>
<p>
  We publish fresh content <strong>every two weeks</strong>: new regions to discover, spotlights on <strong>rare species</strong>,
  and features highlighting <strong>endangered birds</strong> and the threats they face. As you test your skills and learn new facts,
  you‚Äôll also see practical ways to help‚Äîlog your sightings on
  <a href="https://ebird.org/" target="_blank" rel="noopener noreferrer">eBird</a>,
  or connect with a local
  <a href="https://www.audubon.org/" target="_blank" rel="noopener noreferrer">Audubon</a>
  chapter and conservation partners.
</p>
<p>
  This app is about action, not just answers. Together we can understand, appreciate, and protect our feathered friends‚Äîone question at a time.
  And with millions of birders worldwide, we‚Äôre bringing <strong>Pi cryptocurrency</strong> to the forefront of global conservation:
  <strong>Once a week, 50% of the Pi</strong> brought in through this app is donated to vetted, KYB'd nonprofit bird-conservation organizations that accept Pi,
  helping fund real projects in the places birds need most.
</p>
<p><em>Happy birding!</em></p>

 üê¶ü™∂
</p>
</section>

<section id="current-quiz" class="card highlight-card">
  <h2>This Week‚Äôs Quiz</h2>
  <p id="current-quiz-title">Loading‚Ä¶</p>
</section>

<script>
(function () {
  function prettyFromFilename(name) {
    if (!name) return null;
    const base = name.replace(/\.json$/i,'').replace(/^questions[_-]?/i,'');
    if (!base) return null;
    return base.split(/[_-]/)
      .map(w => w.charAt(0).toUpperCase() + w.slice(1))
      .join(' ')
      .replace(/\bOf\b/g,'of')
      .replace(/\bAnd\b/g,'and');
  }

  const el = document.getElementById('current-quiz-title');
  const url = `/config.json?v=${Date.now()}`;  // ‚Üê add .json

  fetch(url, { cache: 'no-store' })
    .then(r => r.ok ? r.json() : Promise.reject(r.status))
    .then(cfg => {
      if (cfg.quiz_title) {
        el.textContent = cfg.quiz_title;
      } else {
        const derived = prettyFromFilename(cfg.question_file || 'questions.json');
        el.textContent = derived ? `Endangered Birds of ${derived}` : 'Featured quiz';
      }
    })
    .catch(() => {
      el.textContent = 'Endangered Bird Species of India';
    });
})();
</script>

<!-- Instructions -->
<section id="instructions" class="instructions">
  <h2>How to play</h2>
  <ol>
  </li> Start the quiz then identify as many birds as you can. Click on a bird name to select your answer. In the results section at the end of the quiz check your answers, learn a little more about the birds and you can choose to tip Pi to a bird conservation group that can accept Pi. Enjoy learning and discovering new species! </li>
  <ol>
</section>

<!-- Conservation & Pledge -->
<section id="conservation" class="card">
  <h2>Why It Matters</h2>
  <p>
    Bird populations are under pressure‚Äîhabitat loss, collisions, invasive species,
    and climate change all play a role. Studies estimate North America alone has lost
    roughly <strong>3 billion</strong> birds since 1970. BirdID-Lite‚Äôs mission is to help people
    learn and care‚Äîand to support the groups doing the hard work on the ground.
  </p>
  <p class="pledge">
    <strong>Pledge:</strong> BirdID-Lite will donate <strong>50%</strong> of the Pi received through
    the app to a <strong>verified bird conservation nonprofit</strong> that
    <strong>accepts Pi</strong> and has completed <strong>KYB</strong> (Know Your Business) on the Pi
    platform.
  </p>
</section>

<!-- Quotes -->
<section id="quotes" class="card quotes">
  <h2>Words to Remember</h2>
  <blockquote>
    ‚ÄúIf you take care of birds, you take care of most of the environmental problems in the world.‚Äù
    <span class="attribution">‚Äî Dr. Thomas Lovejoy</span>
  </blockquote>
  <blockquote>
    ‚ÄúEveryone likes birds. What wild creature is more accessible to our eyes and ears, as close to us and everyone in the world, as universal as a bird?‚Äù
    <span class="attribution">‚Äî Sir David Attenborough</span>
  </blockquote>
  <blockquote>
    ‚ÄúBirds are an ecological litmus paper.‚Äù
    <span class="attribution">‚Äî Roger Tory Peterson</span>
  </blockquote>
  <blockquote>
    ‚ÄúHow can you expect the birds to sing when their groves are cut down?‚Äù
    <span class="attribution">‚Äî Henry David Thoreau</span>
  </blockquote>
  <blockquote>
    ‚ÄúA bird doesn‚Äôt sing because it has an answer, it sings because it has a song.‚Äù
    <span class="attribution">‚Äî Maya Angelou</span>
  </blockquote>
</section>



<!-- üß† Quiz Page -->
<section id="quiz-section" style="display: none;">
  <div id="quiz-header" style="display: none;">
    <div id="timer-text">Time left: 30s</div>
    <div id="progressBar"></div>
  </div>

  <div id="result-box" class="hidden">
    <p id="feedback"></p>
    <a id="info-link" href="#" target="_blank">More Information</a><br>
    <button id="next-btn" style="display: none;">Next</button>
  </div>
  <div id="final-result" style="display: none;"></div>
    <button id="start-quiz">Start Quiz</button>
    <button id="info-button" style="display: none;">More Info</button>
</section>

<!-- üåü Results Page -->
<section id="results-section" style="display: none;">
  <div id="results"></div>
  <div id="result" style="display: none;"></div>
</section>

<!-- üìú Scripts -->
<script type="module" src="script.js"></script>
<script>
  const menuToggle = document.getElementById('menu-toggle');
  const menu = document.getElementById('menu');

  // Toggle menu visibility when hamburger is clicked
  menuToggle.addEventListener('click', () => {
    menu.classList.toggle('show');
  });

  // Close menu when clicking outside
  document.addEventListener('click', (event) => {
    if (!menu.contains(event.target) && !menuToggle.contains(event.target)) {
      menu.classList.remove('show');
    }
  });
</script>
  
<script src="https://sdk.minepi.com/pi-sdk.js"></script>
<script>
(function () {
  const isPi = typeof window !== 'undefined' && (/PiBrowser/i.test(navigator.userAgent) || !!window.Pi);
  const donateBtn = document.getElementById('donate-pi');
  const note = document.getElementById('donate-note');

  if (!donateBtn) return;

  if (!isPi) {
    donateBtn.style.display = 'none';
    if (note) note.innerHTML = 'To donate Pi, open in <strong>Pi Browser</strong>: <code>birdid.pi</code>.';
    return;
  }

  // Initialize SDK (no-op if already initialized)
  try { window.Pi && window.Pi.init({ version: "2.0" }); } catch (e) {}

  donateBtn.style.display = 'inline-block';
  donateBtn.onclick = async () => {
    try {
      if (!window.Pi) throw new Error("Pi SDK not available");
      // Minimal mock for hackathon demo ‚Äî replace with real server hooks later
      const paymentData = { amount: 1, memo: "BirdID donation", metadata: { src: "demo" } };
      const callbacks = {
        onReadyForServerApproval: (paymentId) => { console.log("Approve on server:", paymentId); },
        onReadyForServerCompletion: (paymentId, txid) => { console.log("Complete on server:", paymentId, txid); },
        onCancel: () => alert("Donation canceled"),
        onError: (e) => alert("Donation error: " + e?.message)
      };
      await window.Pi.createPayment(paymentData, callbacks);
    } catch (e) {
      alert("Pi payment not available in this environment.");
    }
  };
})();
</script>

<footer style="text-align:center; margin:16px 0;">
  <a class="btn-home" href="resources.html">Sources & Credits</a>
</footer>


</body>

